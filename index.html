<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>★ F L O P T R O P I C A ★</title>
  <link rel="stylesheet" href="styles/glitch.css" />
</head>

<body>
  <div class="shell">
    <main class="main-content">
      <div class="max-width">
        
        <h1 class="app-title">Floptropica</h1>
        <p class="app-subtitle">dont h8 me cuz im fabulous</p>

        <div class="panel">
          <div class="panel-header">
            <h3 class="panel-title">LOG-IN TO BE SCENE</h3>
            <p class="panel-meta">ENTER UR HAWT USER INFO</p>
          </div>

          <!-- REAL LOGIN FORM THAT WORKS WITH FIREBASE -->
          <form id="login-form">

            <label for="login-email">♥ SCHOOL EMAIL ♥</label>
            <input 
              id="login-email" 
              type="text" 
              placeholder="first.last@willisisd.org"
              autocomplete="off"
              required
            >

            <label for="login-password">♥ PASSWORD ♥</label>
            <input 
              id="login-password" 
              type="password" 
              placeholder="dont tell anyone >:O"
              autocomplete="off"
              required
            >

            <button type="submit">SIGN IN</button>
          </form>

          <!-- GUEST MODE -->
          <div class="chat-footer-nav" style="text-align: center; margin-top: 12px;">
            <button id="guest-button" style="background:none;border:none;color:#9af;text-decoration:underline;cursor:pointer;font-size:14px;">
              Enter as Guest?
            </button>
          </div>
        </div>

      </div>
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <span class="brand">© 2025 Floptropica</span>
        <span class="divider">•</span>
        <a href="privacy.html" class="footer-link">Privacy Policy</a>
      </div>
    </footer>
  </div>

  <!-- LOAD FIREBASE AUTH -->
  <script type="module" src="scripts/auth.js"></script>

  <!-- SIMPLE GUEST LOGIN -->
  <script>
    document.getElementById("guest-button").addEventListener("click", () => {
      const guestUser = {
        name: "Guest",
        email: "guest@floptropica.local",
        role: "guest",
        approved: true
      };

      localStorage.setItem("currentUser", JSON.stringify(guestUser));
      localStorage.setItem("flop_name", "Guest");
      localStorage.setItem("flop_email", "guest@floptropica.local");
      localStorage.setItem("flop_role", "guest");
      localStorage.setItem("flop_userKey", "guest");

      window.location.href = "rooms.html";
    });
  </script>
</body>
</html>
